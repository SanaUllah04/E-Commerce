{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Documents/GitHub/E-Commerce/src/app/lib/db.ts"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI!;\r\nif (!MONGODB_URI) throw new Error(\"Missing MONGODB_URI\");\r\n\r\nlet cached = (global as any).mongoose || { conn: null, promise: null };\r\n\r\nexport async function dbConnect() {\r\n  if (cached.conn) return cached.conn;\r\n\r\n  if (!cached.promise) {\r\n    cached.promise = mongoose.connect(MONGODB_URI, {\r\n      bufferCommands: false,\r\n    });\r\n  }\r\n  cached.conn = await cached.promise;\r\n  (global as any).mongoose = cached;\r\n  return cached.conn;\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;AAC3C,IAAI,CAAC,aAAa,MAAM,IAAI,MAAM;AAElC,IAAI,SAAS,yDAAgB,QAAQ,IAAI;IAAE,MAAM;IAAM,SAAS;AAAK;AAE9D,eAAe;IACpB,IAAI,OAAO,IAAI,EAAE,OAAO,OAAO,IAAI;IAEnC,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,OAAO,OAAO,GAAG,mKAAQ,CAAC,OAAO,CAAC,aAAa;YAC7C,gBAAgB;QAClB;IACF;IACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IAClC,yDAAgB,QAAQ,GAAG;IAC3B,OAAO,OAAO,IAAI;AACpB"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Documents/GitHub/E-Commerce/src/models/Product.ts"],"sourcesContent":["import mongoose, { Schema, models, model, Model } from \"mongoose\";\r\n\r\nconst ProductSchema = new Schema(\r\n    {\r\n        name: { type: String, required: true, trim: true },\r\n        price: { type: Number, required: true, min: 0 },\r\n        image: { type: String, required: true },\r\n        description: { type: String, required: true },\r\n        category: { type: String, required: true, index: true },\r\n        stock: { type: Number, required: true, min: 0 },\r\n        featured: { type: Boolean, default: false },\r\n    },\r\n    { timestamps: true }\r\n);\r\n\r\nexport const Product: Model<any> = models.Product || model(\"Product\", ProductSchema);\r\nexport default Product;\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,gBAAgB,IAAI,kKAAM,CAC5B;IACI,MAAM;QAAE,MAAM;QAAQ,UAAU;QAAM,MAAM;IAAK;IACjD,OAAO;QAAE,MAAM;QAAQ,UAAU;QAAM,KAAK;IAAE;IAC9C,OAAO;QAAE,MAAM;QAAQ,UAAU;IAAK;IACtC,aAAa;QAAE,MAAM;QAAQ,UAAU;IAAK;IAC5C,UAAU;QAAE,MAAM;QAAQ,UAAU;QAAM,OAAO;IAAK;IACtD,OAAO;QAAE,MAAM;QAAQ,UAAU;QAAM,KAAK;IAAE;IAC9C,UAAU;QAAE,MAAM;QAAS,SAAS;IAAM;AAC9C,GACA;IAAE,YAAY;AAAK;AAGhB,MAAM,UAAsB,kKAAM,CAAC,OAAO,IAAI,IAAA,iKAAK,EAAC,WAAW;uCACvD"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Documents/GitHub/E-Commerce/src/app/api/products/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { dbConnect } from \"@/app/lib/db\";\r\nimport { Product } from \"@/models/Product\";\r\n\r\nexport async function GET(req: Request) {\r\n    await dbConnect();\r\n    const { searchParams } = new URL(req.url);\r\n    const q = searchParams.get(\"q\")?.trim();\r\n    const category = searchParams.get(\"category\")?.trim();\r\n\r\n    const filter: any = {};\r\n    if (q) filter.name = { $regex: q, $options: \"i\" };\r\n    if (category) filter.category = { $regex: `^${category}$`, $options: \"i\" };\r\n\r\n    const products = await Product.find(filter).sort({ createdAt: -1 });\r\n    return NextResponse.json(products);\r\n}\r\n\r\nexport async function POST(req: Request) {\r\n    await dbConnect();\r\n    const body = await req.json();\r\n    const created = await Product.create(body);\r\n    return NextResponse.json(created, { status: 201 });\r\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,GAAY;IAClC,MAAM,IAAA,sIAAS;IACf,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;IACxC,MAAM,IAAI,aAAa,GAAG,CAAC,MAAM;IACjC,MAAM,WAAW,aAAa,GAAG,CAAC,aAAa;IAE/C,MAAM,SAAc,CAAC;IACrB,IAAI,GAAG,OAAO,IAAI,GAAG;QAAE,QAAQ;QAAG,UAAU;IAAI;IAChD,IAAI,UAAU,OAAO,QAAQ,GAAG;QAAE,QAAQ,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;QAAE,UAAU;IAAI;IAEzE,MAAM,WAAW,MAAM,qIAAO,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC;QAAE,WAAW,CAAC;IAAE;IACjE,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC7B;AAEO,eAAe,KAAK,GAAY;IACnC,MAAM,IAAA,sIAAS;IACf,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,UAAU,MAAM,qIAAO,CAAC,MAAM,CAAC;IACrC,OAAO,gJAAY,CAAC,IAAI,CAAC,SAAS;QAAE,QAAQ;IAAI;AACpD"}}]
}